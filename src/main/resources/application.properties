# Uptrix application properties
# Sensitive values are read from environment variables. For local development you can copy
# 'application-secrets.properties.example' to 'application-secrets.properties' (ignored by git)
# or set the corresponding environment variables.
spring.datasource.url=${DB_URL:jdbc:mysql://127.0.0.1:3306/uptrix?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC}
spring.datasource.username=${DB_USER:root}
spring.datasource.password=${DB_PASS:}

# IMPORTANT: do NOT commit secrets. Use environment variables or a secret manager in production.
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=true

spring.application.name=uptrix-backend
server.port=${SERVER_PORT:8080}

# JWT - use a long random secret or preferably an asymmetric keypair (RS256).
uptrix.jwt.secret=${UPTRIX_JWT_SECRET:}
uptrix.jwt.expiration-ms=${UPTRIX_JWT_EXP_MS:86400000}

# OpenAI - move your real key into env var OPENAI_API_KEY
openai.api.key=${OPENAI_API_KEY:}
openai.api.url=${OPENAI_API_URL:https://api.openai.com/v1/chat/completions}
openai.model=${OPENAI_MODEL:gpt-4.1-mini}

# File uploads - keep this configurable and don't commit local absolute paths
app.file.upload-dir=${APP_UPLOAD_DIR:./uploads}
# Allow up to 10 MB per file
spring.servlet.multipart.max-file-size=10MB

# Allow total request up to 25 MB (sum of all files + form fields)
spring.servlet.multipart.max-request-size=25MB
